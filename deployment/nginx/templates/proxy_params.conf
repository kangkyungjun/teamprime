# =============================================================================
# ğŸŒ Nginx í”„ë¡ì‹œ ê³µí†µ ì„¤ì •
# =============================================================================
# ëª¨ë“  ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í”„ë¡ì‹œ ì„¤ì •

# HTTP ë²„ì „
proxy_http_version 1.1;

# ì—°ê²° ìœ ì§€
proxy_set_header Connection "";

# í˜¸ìŠ¤íŠ¸ ì •ë³´
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header X-Forwarded-Host $host;
proxy_set_header X-Forwarded-Port $server_port;

# ì›ë³¸ URL ì •ë³´
proxy_set_header X-Original-URI $request_uri;
proxy_set_header X-Original-Method $request_method;

# í”„ë¡ì‹œ ì‹ë³„
proxy_set_header X-Nginx-Proxy true;

# íƒ€ì„ì•„ì›ƒ ì„¤ì •
proxy_connect_timeout 30s;
proxy_send_timeout 60s;
proxy_read_timeout 60s;

# ë²„í¼ë§ ì„¤ì •
proxy_buffering on;
proxy_buffer_size 4k;
proxy_buffers 8 4k;
proxy_busy_buffers_size 8k;

# ì—ëŸ¬ ì²˜ë¦¬
proxy_intercept_errors off;
proxy_ignore_client_abort off;

# ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬
proxy_redirect off;

# ìºì‹œ ë¹„í™œì„±í™” (ë™ì  ì½˜í…ì¸ ìš©)
proxy_cache_bypass 1;
proxy_no_cache 1;